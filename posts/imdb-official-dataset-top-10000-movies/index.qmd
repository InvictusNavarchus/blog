---
title: Finding the common characteristics among Top 10,000 movies of all time
---

## Setup

```{r}
library(tidyverse)
library(naniar)
library(summarytools)
library(janitor)
library(DataExplorer)
library(scales)
```
```{r}
df <- read_csv('top_10_000_movies.csv', na = '\\N')
```
## Clean Data

```{r}
df
```

### Check Missing Data

```{r}
df |> 
  vis_miss()
```
### Check Numeric Distribution

#### Overall

```{r}
df |> 
  plot_histogram(ncol = 1)
```
#### Average Rating

```{r}
df |> 
  ggplot(aes(averageRating)) +
  geom_histogram()
```

#### Runtime Minutes

```{r}
df |> 
  ggplot(aes(runtimeMinutes)) +
  geom_histogram()
```


```{r}
df |> 
  ggplot(aes(runtimeMinutes)) +
  geom_histogram() +
  ylim(0,20)
```
#### Num Votes

```{r}
df |> 
  ggplot(aes(numVotes)) +
  geom_histogram() +
  scale_x_continuous(labels = comma)
```
```{r}
df |> 
  ggplot(aes(numVotes)) +
  geom_histogram() +
  ylim(c(0, 100)) +
  scale_x_continuous(labels = comma)
```

```{r}
df |> 
  ggplot(aes(startYear)) +
  geom_histogram()
```
#### Genre

```{r}
df <- df |> 
  mutate(genres = fct_rev(fct_infreq(genres)))
```


```{r}
df |> 
  count(genres) |> 
  arrange(desc(n)) |>
  slice_head(n = 10) |> 
  ggplot(aes(n, genres)) +
  geom_col()
```


```{r}
df_unnested_genre <- df |> 
  mutate(genres = str_split(genres, ',')) |> 
  unnest_longer(genres) |> 
  mutate(genres = fct_rev(fct_infreq(genres)))
```


```{r}
df_unnested_genre |> 
  count(genres) |> 
  arrange(desc(n)) |> 
  slice_head(n = 10) |> 
  ggplot(aes(genres, n)) +
  geom_col() +
  coord_flip()
```

